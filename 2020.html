<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>2020チェキ数</title>
    <!-- 引入 echarts.js -->
    <script src="echarts.min.js"></script>
</head>
<body>
<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
<div id="main" style="width:100%;height:500%"></div>
<script type="text/javascript">
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('main'));

    // 可直接替换
    data = [
        ['2020-01-04', 6],
        ['2020-01-05', 3],
		['2020-01-10', 5],
		['2020-01-13', 3],
		['2020-01-16', 4],
		['2020-01-18', 1],
		['2020-01-19', 1],
		['2020-01-21', 4],
        ['2020-01-26', 4],
        ['2020-01-28', 1],
        ['2020-02-02', 2],
        ['2020-02-09', 4],
        ['2020-02-11', 4],
        ['2020-02-15', 2],
        ['2020-02-16', 3],


    ];

    // var datasum = [].concat(data);

    var sum = 0;

    for (let i = 0; i < data.length; i++) {
        sum += Number(data[i][1]);
    }
    // document.write(sum);

    day = ["日", "月", "火", "水", "木", "金", "土"]

    month = ["1月",
        "2月",
        "3月",
        "4月",
        "5月",
        "6月",
        "7月",
        "8月",
        "9月",
        "10月",
        "11月",
        "12月"
    ];

    option = {
        title: {
            top: 30,
            left: 'center',
            text: '2020星乃さゆみチェキ(合計' + sum + ')'
        },
        tooltip: {},
        visualMap: {
            pieces: [ //自定义『分段式视觉映射组件（visualMapPiecewise）』的每一段的范围，以及每一段的文字，以及每一段的特别的样式
                {min: 1, max: 5, label: '1-5枚'},
                {min: 6, max: 10, label: '6-10枚'},
                {min: 11, max: 15, label: '11-15枚'},
                {min: 16, max: 20, label: '16-20枚'},
                {min: 21, max: 25, label: '21-25枚'}
            ],
            type: 'piecewise',
            orient: 'horizontal',
            left: 'center',
            top: 65,
            textStyle: {
                color: '#000'
            },
            inRange: {
                color: [
                    "#50a3ba",
                    "#eac763",
                    "#d94e5d"
                ]
            }
        },
        calendar: {
            top: 120,
            left: 30,
            right: 30,
            cellSize: ['auto', 13],
            range: '2020',
            itemStyle: {
                normal: {borderWidth: 0.5}
            },
            yearLabel: {show: false},
            dayLabel: {
                margin: 10, "firstDay": 1,
                nameMap: day
            },
            monthLabel: {
                nameMap: month
            },
        },

        series: {
            type: 'heatmap',
            coordinateSystem: 'calendar',
            data: data
        }
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);
</script>
</body>
</html>
